# RC4 Stream Cipher Implementation

This repository contains a Python script that implements the RC4 stream cipher for educational purposes. RC4 is a widely known stream cipher, and this implementation demonstrates its core components: the Key-Scheduling Algorithm (KSA) and the Pseudo-Random Generation Algorithm (PRGA).

## About RC4

RC4 is a variable key-size stream cipher with byte-oriented operations. The algorithm is based on the use of a random permutation. Analysis has shown that the security of RC4 can be questionable if not used correctly (e.g., with non-random or related keys). This implementation is intended for learning about how stream ciphers work and should not be used in production environments for securing sensitive data.

## Features

-   **RC4 Encryption and Decryption:** A single function `rc4()` handles both encrypting and decrypting data.
-   **Key-Scheduling Algorithm (KSA):** Initializes and permutes a state vector based on the secret key.
-   **Pseudo-Random Generation Algorithm (PRGA):** Generates a keystream that is XORed with the data.
-   **Example Usage:** The script includes a clear example of how to encrypt a plaintext message and then decrypt the resulting ciphertext.

## How It Works

The `rc4` function performs the following steps:

1.  **Key-Scheduling Algorithm (KSA):**
    -   A state array `S` is initialized with values from 0 to 255.
    -   The state array is then permuted based on the bytes of the secret key.

2.  **Pseudo-Random Generation Algorithm (PRGA):**
    -   A keystream of the same length as the input text is generated by systematically swapping elements in the state array.

3.  **XOR Operation:**
    -   Each byte of the input text (plaintext or ciphertext) is XORed with a corresponding byte from the keystream to produce the output.

## Prerequisites

-   Python 3.x

## How to Use

1.  Clone the repository:
    ```bash
    git clone https://github.com/your-username/secret-key-exercise.git
    cd secret-key-exercise
    ```

2.  Run the script:
    ```bash
    python secret_key_exercise.py
    ```

    The script will execute the example usage block, encrypt a sample message, and then decrypt it back to the original plaintext, printing the results to the console.

    ```
    Plaintext:  'This is a secret message.'
    Ciphertext (hex): 74686973206973206120736563726574206d6573736167652e
    Decrypted:  'This is a secret message.'
    ```

## Disclaimer

**This implementation is for educational purposes only.** RC4 is known to have vulnerabilities and is not considered secure for modern applications. Do not use this code for protecting sensitive information in a real-world scenario. Always use well-vetted, standard cryptographic libraries like `cryptography` in Python for any real security needs.
